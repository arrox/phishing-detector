# ============================================================================
# VARIABLES DE ENTORNO - EJEMPLO
# Copia este archivo como .env y configura los valores reales
# NUNCA commitees el archivo .env real con credenciales
# ============================================================================

# ============================================================================
# CONFIGURACIÓN DE LA APLICACIÓN
# ============================================================================

# Ambiente de ejecución (development, staging, production)
ENVIRONMENT=development

# Configuración del servidor
HOST=0.0.0.0
PORT=8000
WORKERS=1

# Configuración de logs
LOG_LEVEL=debug

# ============================================================================
# CREDENCIALES Y SECRETOS
# ============================================================================

# Google Gemini API Key - REQUERIDO
# Obtén tu API key en: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# Token de autenticación para la API - REQUERIDO
# Genera un token seguro para autenticar requests a tu API
API_TOKEN=your_secure_api_token_here

# ============================================================================
# CONFIGURACIÓN DE SEGURIDAD
# ============================================================================

# Orígenes permitidos para CORS (separados por comas)
ALLOWED_ORIGINS=https://*.googleapis.com,https://*.google.com,https://script.google.com

# Hosts permitidos (para TrustedHostMiddleware)
ALLOWED_HOSTS=*

# Configuración de rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# ============================================================================
# CONFIGURACIÓN DE OBSERVABILIDAD
# ============================================================================

# Habilitar métricas de Prometheus
ENABLE_METRICS=true

# Habilitar tracing distribuido
ENABLE_TRACING=false
TRACE_SAMPLE_RATE=0.1

# Configuración de logs estructurados
STRUCTURED_LOGGING=true
LOG_JSON_FORMAT=true

# ============================================================================
# CONFIGURACIÓN DE PERFORMANCE
# ============================================================================

# Timeout para requests HTTP (en segundos)
REQUEST_TIMEOUT=30

# Número máximo de requests por worker antes de reiniciar
MAX_REQUESTS_PER_CHILD=1000

# Configuración de concurrencia
MAX_CONCURRENT_REQUESTS=100

# ============================================================================
# CONFIGURACIÓN DE FEATURES
# ============================================================================

# Habilitar análisis con Gemini AI
ENABLE_GEMINI=true

# Habilitar cache de resultados
ENABLE_CACHE=false
CACHE_TTL_SECONDS=3600

# Habilitar análisis heurístico como fallback
ENABLE_HEURISTIC_FALLBACK=true

# Nivel de redacción de PII (low, medium, high)
PII_REDACTION_LEVEL=medium

# ============================================================================
# CONFIGURACIÓN DE DESARROLLO
# ============================================================================

# Habilitar modo debug (NO usar en producción)
DEBUG=true

# Habilitar recarga automática de código
AUTO_RELOAD=true

# Habilitar documentación automática de API
ENABLE_DOCS=true

# ============================================================================
# CONFIGURACIÓN DE BASE DE DATOS (OPCIONAL)
# ============================================================================

# Si en el futuro se agrega persistencia
# DATABASE_URL=postgresql://user:password@localhost/phishing_detector
# REDIS_URL=redis://localhost:6379/0

# ============================================================================
# CONFIGURACIÓN DE GMAIL ADD-ON
# ============================================================================

# URL del servicio para el Gmail Add-on
# Se actualiza automáticamente después del deployment
SERVICE_URL=http://localhost:8000

# Configuración específica para Apps Script
APPS_SCRIPT_PROJECT_ID=your_apps_script_project_id

# ============================================================================
# CONFIGURACIÓN DE GOOGLE CLOUD (PRODUCTION)
# ============================================================================

# Estas variables son gestionadas por Cloud Run en producción
# Se incluyen aquí solo para referencia

# Proyecto de Google Cloud
# GCP_PROJECT_ID=your-gcp-project

# Región de deployment
# GCP_REGION=us-central1

# Service Account para Cloud Run
# GOOGLE_CLOUD_SERVICE_ACCOUNT=phishing-detector-sa@your-project.iam.gserviceaccount.com

# ============================================================================
# CONFIGURACIÓN DE TESTING
# ============================================================================

# Configuración específica para tests
TEST_MODE=false
MOCK_GEMINI_RESPONSES=false
TEST_DATABASE_URL=sqlite:///test.db

# ============================================================================
# VARIABLES DE ENTORNO AVANZADAS
# ============================================================================

# Configuración de timeouts específicos
GEMINI_API_TIMEOUT=30
DNS_LOOKUP_TIMEOUT=5
WHOIS_LOOKUP_TIMEOUT=10

# Configuración de retry
MAX_RETRIES=3
RETRY_BACKOFF_FACTOR=1.5

# ============================================================================
# CONFIGURACIÓN DE MONITOREO
# ============================================================================

# Configuración de health checks
HEALTH_CHECK_TIMEOUT=10
READINESS_CHECK_TIMEOUT=5

# Configuración de alertas
ALERT_EMAIL=alerts@your-company.com
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# ============================================================================
# CONFIGURACIÓN POR AMBIENTE
# ============================================================================

# DEVELOPMENT OVERRIDES
# Descomenta estas líneas para desarrollo local
# LOG_LEVEL=debug
# DEBUG=true
# ENABLE_TRACING=true
# GEMINI_API_KEY=test_key_for_development

# STAGING OVERRIDES
# Descomenta estas líneas para staging
# LOG_LEVEL=info
# DEBUG=false
# ENABLE_TRACING=true
# TRACE_SAMPLE_RATE=0.5

# PRODUCTION OVERRIDES
# En producción, estas variables son gestionadas por Secret Manager
# LOG_LEVEL=info
# DEBUG=false
# ENABLE_TRACING=true
# TRACE_SAMPLE_RATE=0.1
# STRUCTURED_LOGGING=true
# LOG_JSON_FORMAT=true

# ============================================================================
# NOTAS Y DOCUMENTACIÓN
# ============================================================================

# IMPORTANTE:
# 1. Nunca commitees el archivo .env real
# 2. Usa Secret Manager en producción para credenciales
# 3. Las variables pueden ser sobrescritas por variables de entorno del sistema
# 4. Los valores booleanos deben ser: true/false (minúsculas)
# 5. Los timeouts están en segundos
# 6. Para listas, usa comas sin espacios: item1,item2,item3

# EJEMPLOS DE VALORES REALES:
# GEMINI_API_KEY=AIzaSyD1234567890abcdef...
# API_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# SERVICE_URL=https://phishing-detector-dev-123456.a.run.app

# DOCUMENTACIÓN:
# - Variables de entorno: https://12factor.net/config
# - Gemini API: https://ai.google.dev/
# - Cloud Run: https://cloud.google.com/run/docs/configuring/environment-variables